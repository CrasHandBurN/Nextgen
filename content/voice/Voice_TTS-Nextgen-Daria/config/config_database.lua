module("VOICE")

connections = {
	65793, 131586, 197123, 262912, 263168, 328960, 394752, 460545, 526082, 591619, 657156, 722693, 460801, 526338, 591875, 788480, 395520, 461313, 526850, 592387, 657924, 723461, 461569, 527106, 592643, 789248,
	852225, 918018, 983555, 1049350, 1114887, 1180424, 1245961, 1049354, 1051654, 1117191, 1182728, 1051657, 1051658, 1051910, 1117447, 1182984, 1051913, 1051914, 1049606, 1115143, 1180680, 1246217, 1049610, 328960, 1312256, 1379841, 1445378, 1510915, 1576459, 1641996, 1380097, 1445634, 1511171, 1576717, 1642254, 1707783, 1773320, 1838863, 1904400, 1576721, 1642258, 1378305, 1443842, 1509379, 1968141, 1640462, 1705991, 1771528, 1837071, 1902608, 1968145, 2033682, 1313024, 1378817, 1444354, 1509891, 1575435, 1640972, 1379073, 1444610, 1510147, 1968909, 1641230, 1706759, 1772296, 1837839, 1903376, 1968913, 2034450,
	2097409, 2163202, 2228739, 2294534, 2360071, 2425608, 2491145, 2294538, 2296838, 2362375, 2427912, 2296841, 2296842, 2297094, 2362631, 2428168, 2297097, 2297098, 2294790, 2360327, 2425864, 2491401, 2294794, 328960, 2557440, 2625025, 2690562, 2756099, 2821643, 2887180, 2625281, 2690818, 2756355, 2821901, 2887438, 2952967, 3018504, 3084047, 3149584, 2821905, 2887442, 2623489, 2689026, 2754563, 3213325, 2885646, 2951175, 3016712, 3082255, 3147792, 3213329, 3278866, 2558208, 2624001, 2689538, 2755075, 2820619, 2886156, 2624257, 2689794, 2755331, 3214093, 2886414, 2951943, 3017480, 3083023, 3148560, 3214097, 3279634,
	3342593, 3408386, 3473923, 3539712, 3539968, 328960, 3606016, 3673601, 3739138, 3804675, 3870219, 3935756, 3673857, 3739394, 3804931, 3870475, 3936012, 3672065, 3737602, 3803139, 3999755, 4065292, 3606784, 3672577, 3738114, 3803651, 3869195, 3934732, 3672833, 3738370, 3803907, 4066048,
	4129025, 4195072, 4195328, 331776, 4264192, 4329985, 4395531, 4461068, 4330241, 4395787, 4461324, 4327425, 4524043, 4589580, 4262144, 4327937, 4393483, 4459020, 4330497, 4592640,
	4653824, 4654080, 328960, 4720128, 4785924, 4851461, 4917248, 4720896, 4786692, 4852229, 4918016,
	4981504, 4981760, 328960, 5047808, 5113604, 5179141, 5244928, 5048576, 5114372, 5179909, 5245696,
	5313792, 5376000,
	5439745, 5505538, 5571075, 5636864, 5637120, 328960, 5703168, 5768961, 5834498, 5900035, 5965568, 5769217, 5834754, 5900291, 6031360, 5703936, 5769729, 5835266, 5900803, 5966336, 5769985, 5835522, 5901059, 6032128,
	6095616, 6095872, 328960, 6161920, 6227731, 6293268, 6227733, 6293270, 6358807, 6424344, 6490137, 6490138, 6555675, 6162688, 6228499, 6294036, 6228501, 6294038, 6359575, 6425112, 6490905, 6490906, 6556443,
	6619904, 6620160, 328960, 6686208, 6752019, 6817556, 6752021, 6817558, 6883095, 6948632, 7014425, 7014426, 7079963, 6686976, 6752787, 6818324, 6752789, 6818326, 6883863, 6949400, 7015193, 7015194, 7080731,
	7144192, 7144448, 328960, 7210496, 7276307, 7341844, 7276309, 7341846, 7407383, 7472920, 7538713, 7538714, 7604251, 7211264, 7277075, 7342612, 7277077, 7342614, 7408151, 7473688, 7539481, 7539482, 7605019,
	7668480, 7668736, 328960, 7734784, 7800595, 7866132, 7800597, 7866134, 7931671, 7997208, 8063001, 8063002, 8128539, 7735552, 7801363, 7866900, 7801365, 7866902, 7932439, 7997976, 8063769, 8063770, 8129307,
	8197651, 8263188, 8197653, 8263190, 8328727, 6559256,
	8389376, 8389632, 328960, 8455680, 8521483, 8587020, 8652800, 8456448, 8522251, 8587788, 8653568,
	8717056, 8717312, 328960, 8783360, 8849156, 8914693, 8980480, 8784128, 8849924, 8915461, 8981248,
	9049867, 9115404, 333824, 9181451, 9246988, 9312779, 9378316, 9444107, 9509644, 9182219, 9247756, 9575691, 9379084, 9444875, 9510412,
	9639691, 4200204, 333824, 9705739, 4266252, 9771531, 9837068, 9902859, 9968396, 9706507, 4267020, 9772299, 9837836, 9903627, 9969164,
	10027776, 10028032, 328960, 10094080, 10159872, 10225664, 10094848, 10160640, 10226432,
	10293248, 10362624,
	10420992, 10421248, 328960, 10487296, 10553088, 10618880, 10488064, 10553856, 10619648,
	10683136, 10683392, 328960, 10749440, 10815232, 10881024, 10750208, 10816000, 10881792,
	10945280, 10945536, 328960, 11011584, 11077376, 11143168, 11012352, 11078144, 11143936,
	11207424, 11207680, 328960, 11273728, 11339520, 11405312, 11274496, 11340288, 11406080,
	11469568, 11471872, 11472128, 11469824, 328960, 11535872, 11608075, 11542540, 11669003, 11734540, 11800331, 11865868, 11864092, 11929609, 11864074, 1640704, 11799051, 11864588, 11864860, 11930377, 11864842,
	11994131, 12059668, 11994133, 12059670, 12125207, 6095896, 8197651, 8263188, 8197653, 8263190, 8328727, 6559256,
	}

rules = {
	{32, rangefun.common_then5_range_100, None, nil},
	{16, rangefun.common_then4_range_100, None, nil},
	{8, rangefun.common_then3_range_300, None, nil},
	{1, rangefun.common_then_range_100, None, nil},
	{16777217, rangefun.common_drive_range_3000, 254, true},
	{16777224, rangefun.common_pre_range_500, 240, true},
	{16777280, rangefun.common_app_range_100, 128, nil},
	{16777344, rangefun.common_now_range_0, 8388608, nil},
	{8, rangefun.common_pre_equal_800, 240, nil},
	{64, rangefun.common_app_equal_300, 128, nil},
	{128, rangefun.common_now_equal_30, 8388608, nil},
	{4, rangefun.common_then2_range_100, None, nil},
	{2, rangefun.common_then1_range_100, None, nil},
	{16777280, rangefun.common_app_range_120, 128, nil},
	{16777344, rangefun.common_now_range_60, 8388608, nil},
	{16777217, rangefun.common_drive_range_1000, 254, true},
	{16777224, rangefun.common_pre_range_500, 240, nil},
	{16777280, rangefun.common_app_range_170, 128, nil},
	{16777344, rangefun.common_now_range_80, 8388608, nil},
	{128, rangefun.common_now_equal_80, 8388608, nil},
	{1, rangefun.common_then_range_100000, None, nil},
	{16777344, rangefun.common_now_range_20, 8388608, nil},
	{8, rangefun.highway_then3_range_300, None, nil},
	{16777217, rangefun.highway_drive_range_5000, 254, true},
	{16777224, rangefun.highway_pre_range_2000, 240, nil},
	{16777280, rangefun.highway_app_range_500, 128, nil},
	{16777344, rangefun.highway_now_range_0, 8388608, nil},
	{8, rangefun.highway_pre_equal_3000, 240, nil},
	{64, rangefun.highway_app_equal_1000, 128, nil},
	{128, rangefun.highway_now_equal_300, 8388608, nil},
	{16777344, rangefun.common_now_range_0, 8388608, true},
	{16777280, rangefun.common_app_range_350, 128, nil},
}

conditions = {
	{condfun.poi},
	{condfun.nopoi, condfun.tL_e_2},
	{condfun.nopoi, condfun.tL_e_1},
	{condfun.streetname},
	{condfun.nostreetname},
	{condfun.X_g_3},
	{condfun.X_e_3},
	{condfun.X_e_2},
	{condfun.X_e_1},
	{condfun.X_e_0},
	{condfun.destname},
	{condfun.nodestname},
	{condfun.X_g_3, condfun.destname},
	{condfun.X_g_3, condfun.nodestname},
	{condfun.X_e_1, condfun.destname},
	{condfun.X_e_1, condfun.nodestname},
	{condfun.X_e_0, condfun.destname},
	{condfun.X_e_0, condfun.nodestname},
	{condfun.destname, condfun.exit_g_1},
	{condfun.exit_g_1, condfun.nodestname},
	{condfun.destname, condfun.exit_e_1},
	{condfun.exit_e_1, condfun.nodestname},
	{condfun.destname, condfun.exit_e_0},
	{condfun.exit_e_0, condfun.nodestname},
	{condfun.exit_g_1},
	{condfun.exit_e_1},
	{condfun.exit_e_0},
	{condfun.X_g_1},
}

id = {
	continue_left = 1,
	continue_right = 2,
	continue_sharp_left = 3,
	continue_sharp_right = 4,
	continue_uturn_left = 5,
	continue_uturn_right = 6,
	deformed_roundabout_exit = 7,
	exit_left = 8,
	exit_right = 9,
	ferry = 10,
	ferry_exit = 11,
	goal = 12,
	goal_left = 13,
	goal_right = 14,
	highway_enter = 15,
	highway_leave = 16,
	keep_left = 17,
	keep_left_b = 18,
	keep_left_hwy = 19,
	keep_left_shwy = 20,
	keep_right = 21,
	keep_right_b = 22,
	keep_right_hwy = 23,
	keep_right_shwy = 24,
	left = 25,
	left_end = 26,
	priority = 27,
	priority_left = 28,
	priority_right = 29,
	ramp_left = 30,
	ramp_right = 31,
	right = 32,
	right_end = 33,
	roundabout_back = 34,
	roundabout_exit = 35,
	roundabout_h = 36,
	roundabout_l = 37,
	roundabout_left = 38,
	roundabout_right = 39,
	roundabout_straight = 40,
	sharp_left = 41,
	sharp_right = 42,
	slight_left = 43,
	slight_right = 44,
	straight = 45,
	uturn = 46,
	uturn_left = 47,
	uturn_left_dual = 48,
	uturn_right = 49,
	uturn_right_dual = 50,
	via = 51,
	via_left = 52,
	via_right = 53,
}

parameters = {
	[id.continue_left] = {then_cnt = 1, CID = 7101463, L"налево", L"налево", L"налево", L"левому"},
	[id.continue_right] = {then_cnt = 1, CID = 7101463, L"направо", L"направо", L"направо", L"правому"},
	[id.continue_sharp_left] = {then_cnt = 1, CID = 25189399, L"круто", L"налево", L"налево", L"налево", L"левому"},
	[id.continue_sharp_right] = {then_cnt = 1, CID = 25189399, L"круто", L"направо", L"направо", L"направо", L"правому"},
	[id.continue_uturn_left] = {then_cnt = 1, CID = 25189399, L"круто", L"налево", L"налево", L"налево", L"левому"},
	[id.continue_uturn_right] = {then_cnt = 1, CID = 25189399, L"круто", L"направо", L"направо", L"направо", L"правому"},
	[id.deformed_roundabout_exit] = {then_cnt = 1, CID = 126618630, },
	[id.exit_left] = {then_cnt = 1, CID = 95162882, L"налево", L"налево", L"налево"},
	[id.exit_right] = {then_cnt = 1, CID = 95162882, L"направо", L"направо", L"направо"},
	[id.ferry] = {then_cnt = 1, CID = 108793346, },
	[id.ferry_exit] = {then_cnt = 1, CID = 111150080, },
	[id.goal] = {then_cnt = 1, CID = 114036226, },
	[id.goal_left] = {then_cnt = 1, CID = 118754818, L"слева", L"слева", L"слева"},
	[id.goal_right] = {then_cnt = 1, CID = 118754818, L"справа", L"справа", L"справа"},
	[id.highway_enter] = {then_cnt = 1, CID = 98046466, },
	[id.highway_leave] = {then_cnt = 1, CID = 100932098, },
	[id.keep_left] = {then_cnt = 1, CID = 51651075, L"левее", L"левее", L"левее"},
	[id.keep_left_b] = {then_cnt = 1, CID = 51651075, L"левее", L"левее", L"левее"},
	[id.keep_left_hwy] = {then_cnt = 1, CID = 104864258, L"левее", L"левее", L"левее"},
	[id.keep_left_shwy] = {then_cnt = 1, CID = 104864258, L"левее", L"левее", L"левее"},
	[id.keep_right] = {then_cnt = 1, CID = 51651075, L"правее", L"правее", L"правее"},
	[id.keep_right_b] = {then_cnt = 1, CID = 51651075, L"правее", L"правее", L"правее"},
	[id.keep_right_hwy] = {then_cnt = 1, CID = 104864258, L"правее", L"правее", L"правее"},
	[id.keep_right_shwy] = {then_cnt = 1, CID = 104864258, L"правее", L"правее", L"правее"},
	[id.left] = {then_cnt = 1, CID = 7101463, L"налево", L"налево", L"налево", L"левому"},
	[id.left_end] = {then_cnt = 1, CID = 121119236, L"налево", L"налево", L"налево"},
	[id.priority] = {then_cnt = 1, CID = 56889858, },
	[id.priority_left] = {then_cnt = 1, CID = 59773442, L"левее", L"левее", L"левее"},
	[id.priority_right] = {then_cnt = 1, CID = 59773442, L"правее", L"правее", L"правее"},
	[id.ramp_left] = {then_cnt = 1, CID = 7101463, L"налево", L"налево", L"налево", L"левому"},
	[id.ramp_right] = {then_cnt = 1, CID = 7101463, L"направо", L"направо", L"направо", L"правому"},
	[id.right] = {then_cnt = 1, CID = 7101463, L"направо", L"направо", L"направо", L"правому"},
	[id.right_end] = {then_cnt = 1, CID = 121119236, L"направо", L"направо", L"направо"},
	[id.roundabout_back] = {then_cnt = 1, CID = 81537538, },
	[id.roundabout_exit] = {then_cnt = 1, CID = 93588480, },
	[id.roundabout_h] = {then_cnt = 1, CID = 69478914, },
	[id.roundabout_l] = {then_cnt = 1, CID = 69478914, },
	[id.roundabout_left] = {then_cnt = 1, CID = 75508226, L"налево", L"налево", L"налево"},
	[id.roundabout_right] = {then_cnt = 1, CID = 75508226, L"направо", L"направо", L"направо"},
	[id.roundabout_straight] = {then_cnt = 1, CID = 87566850, },
	[id.sharp_left] = {then_cnt = 1, CID = 25189399, L"круто", L"налево", L"налево", L"налево", L"левому"},
	[id.sharp_right] = {then_cnt = 1, CID = 25189399, L"круто", L"направо", L"направо", L"направо", L"правому"},
	[id.slight_left] = {then_cnt = 1, CID = 43267589, L"налево", L"налево", L"налево"},
	[id.slight_right] = {then_cnt = 1, CID = 43267589, L"направо", L"направо", L"направо"},
	[id.straight] = {then_cnt = 1, CID = 272901, },
	[id.uturn] = {then_cnt = 1, CID = 62652929, },
	[id.uturn_left] = {then_cnt = 1, CID = 25189399, L"круто", L"налево", L"налево", L"налево", L"левому"},
	[id.uturn_left_dual] = {then_cnt = 1, CID = 63186437, },
	[id.uturn_right] = {then_cnt = 1, CID = 25189399, L"круто", L"направо", L"направо", L"направо", L"правому"},
	[id.uturn_right_dual] = {then_cnt = 1, CID = 63186437, },
	[id.via] = {then_cnt = 1, CID = 111676930, },
	[id.via_left] = {then_cnt = 1, CID = 116395522, L"слева", L"слева", L"слева"},
	[id.via_right] = {then_cnt = 1, CID = 116395522, L"справа", L"справа", L"справа"},
}

patterns = {
	L"Затем %poi прямо, %destname",
	L"Затем на втором светофоре прямо, %destname",
	L"Затем на светофоре прямо, %destname",
	L"Затем прямо.",
	L"Продолжайте движение %dist .",
	L"Через %dist продолжайте движение прямо.",			-- далеко
	L"Через %dist %poi прямо, %destname  %then4",
	L"Через %dist На втором светофоре прямо, %destname  %then5",
	L"Через %dist На светофоре прямо, %destname  %then5",
	L"Через %dist прямо %streetname  %then",
	L"Через %dist прямо %then",
	L"Продолжайте движение прямо %then",
	L"затем %poi поверните %1 %destname",
	L"затем на втором светофоре %1 %destname",
	L"затем на светофоре %1 %destname",
	L"затем поверните %3.",
	L"затем на третьем повороте %3.",
	L"затем на втором повороте %3.",
	L"затем на следующем повороте %3.",
	L"Через %dist поворот %3.",
	L"Через %dist %poi поверните %1 %destname %then4",
	L"На втором светофоре %1 %destname %then5",
	L"На светофоре %1 %destname %then5",
	L"Через %dist поверните %2 %destname %then1",
	L"Через %dist поверните %3 %then1",
	L"Через %dist %3 %then1",
	L"Через %dist %3 %then1",
	L"Сейчас %2 %destname %then1",
	L"Сейчас %3 %then1",
	L"Поверните %3 %then1",
	L"Поверните %3 %then1",
	L"Затем %poi круто %2, %destname",
	L"Затем на втором светофоре круто %2, %destname",
	L"Затем на светофоре круто %2, %destname",
	L"Затем поверните %1 %4.",
	L"Затем на третьем повороте круто %4.",
	L"Затем на втором повороте круто %4.",
	L"Затем выполните крутой поворот %4.",
	L"Через %dist крутой поворот %4.",				-- далеко
	L"Через %dist %poi поверните круто %2, %destname  %then4",
	L"Через %dist На втором светофоре круто %2, %destname  %then5",
	L"Через %dist На светофоре круто %2, %destname  %then5",
	L"Через %dist %1 поверните %3 %destname  %then1",
	L"Через %dist %1 поверните %4 %then1",
	L"Через %dist круто %4 %then1",
	L"Через %dist круто %4 %then1",
	L"На повороте %1 %3 %destname %then1",
	L"На повороте %1 %4 %then1",
	L"Поверните %1 %3, %destname  %then1",
	L"Поверните %1 %4 %then1",
	L"Затем %poi плавно %1, %destname",
	L"Затем на втором светофоре плавно %1, %destname",
	L"Затем на светофоре плавно %1, %destname",
	L"Затем плавно %3.",
	L"Через %dist плавный поворот %3.",				-- далеко
	L"Через %dist %poi плавно %1, %destname  %then4",
	L"Через %dist На втором светофоре плавно %1, %destname  %then5",
	L"Через %dist На светофоре плавно %1, %destname  %then5",
	L"Через %dist плавно %2, %destname  %then",
	L"Через %dist плавно %3 %then",
	L"Плавно %2, %destname  %then",
	L"Плавно %3 %then",
	L"Затем %poi держитесь %1, %destname",
	L"Затем держитесь %3",
	L"Через %dist держитесь %3",					-- далеко
	L"Через %dist %poi держитесь %1, %destname  %then4",
	L"Через %dist держитесь %2 %destname  %then",
	L"Через %dist держитесь %3 %then",
	L"Держитесь %2, %destname  %then",
	L"Держитесь %3 %then",
	L"Затем по главной дороге.",
	L"Через %dist продолжайте движение по главной дороге.",		-- далеко
	L"Через %dist продолжайте движение %streetname  %then",
	L"Через %dist продолжайте движение по главной дороге %then",
	L"Продолжайте по главной дороге %then",
	L"Затем держитесь %1 по главной дороге.",
	L"Через %dist держитесь %1 по главной дороге.",			-- далеко
	L"Через %dist %streetname  держитесь %3 %then",
	L"Через %dist по главной дороге, держитесь %3 %then",
	L"Держитесь %1 по главной дороге %then",
	L"Затем разворот где это возможно.",
	L"Выполните разворот где это возможно %then",
	L"Затем, разворот %poi.",
	L"Затем, разворот на втором светофоре.",
	L"Затем, разворот на светофоре.",
	L"Затем выполните разворот.",
	L"Через %dist выполните разворот.",
	L"Через %dist разворот %poi %then4",
	L"Через %dist разворот на втором светофоре %then5",
	L"Через %dist разворот на светофоре %then5",
	L"Через %dist выполните разворот %then",
	L"Выполните разворот %then",
	L"Затем на кольцо, уступив дорогу.",
	L"Через %dist дорога с круговым движением.",
	L"Через %dist на кольце выполните %exit съезд %destname  %then",
	L"Через %dist на кольце выполните %exit съезд %then",
	L"Через %dist уступите дорогу при въезде на кольцо  %destname  %then",
	L"Через %dist круговое движение %then",
	L"На кольце, уступите дорогу и выполните %exit съезд %then",
	L"Дорога с круговым движением %then",
	L"Затем поверните %1 на кольце.",
	L"Через %dist на кольце поверните %1.",
	L"Через %dist на кольце %1, через %exit съезд, %destname  %then",
	L"Через %dist на кольце %1, через %exit съезд %then",
	L"Через %dist на кольце %1, %destname  %then",
	L"Через %dist на кольце %1 %then",
	L"На кольце %1, через %exit съезд %then",
	L"На кольце %1 %then",
	L"Затем разворот на кольцее.",
	L"Через %dist на кольце выполните разворот",			
	L"Через %dist разворот на кольце, через %exit съезд %destname  %then",
	L"Через %dist разворот на кольце, через %exit съезд %then",
	L"Через %dist разворот на кольце, %destname  %then",
	L"Через %dist разворот на кольце %then",
	L"Выполните разворот на кольце %exit съезд %then",
	L"Выполните разворот на кольце %then",
	L"Затем прямо, через кольцо, уступив дорогу.",
	L"Через %dist продолжайте движение прямо, через кольцо, уступив дорогу, ",
	L"Через %dist прямо через кольцо, %exit съезд, %destname  %then",
	L"Через %dist прямо через кольцо, %exit съезд %then",
	L"Через %dist прямо через кольцо, %destname  %then",
	L"Через %dist прямо через кольцо %then",
	L"На кольце выполните %exit съезд %then",
	L"Прямо через кольцо %then",
	L"Выполните %exit съезд, %destname  %then",
	L"Выполните %exit съезд %then",
	L"Въедьте на кольцо, %destname  %then",
	L"Затем съезд %3.",
	L"Через %dist выполните съезд %1.",				-- далеко
	L"Через %dist съезд %1 %destname  %then",
	L"Через %dist съезд %3 %then",
	L"Съедьте %3 %then",
	L"Затем въезд на автомагистраль.",
	L"Через %dist въезд на автомагистраль.",			-- далеко
---	L"Через %dist въезд на %streetname %then3",			--- на основе wwt-bull: иначе два раза "на на"
	L"Через %dist следуйте %streetname %then3",			--- на основе wwt-bull: иначе два раза "на на"
	L"Через %dist въезд на автомагистраль %then3",
	L"Въезд на автомагистраль %then3",
	L"Затем, съезд %destname",
	L"Затем, съезд с автомагистрали.",
	L"Через %dist съезд %destname",				-- далеко
	L"Через %dist съезд с автомагистрали. ",			-- далеко
	L"Через %dist съезд %destname  %then3",
	L"Через %dist съезд с автомагистрали %then3",
	L"Съедьте %destname %then3",
	L"Съедьте с автомагистрали %then3",
	L"Через %dist съедьте %destname %then3",
	L"затем держитесь %2 %destname",
	L"Через %dist держитесь %2 %destname",
	L"Через %dist держитесь %2 %destname %then3",
	L"Через %dist держитесь %3 %then3",
	L"Держитесь %2 %destname %then3",
	L"Держитесь %3 %then3",
	L"Затем, следуйте на паром.",
	L"Через %dist следуйте на паром.",				-- далеко
	L"Через %dist следуйте на паром.",
	L"Следуйте на паром.",
	L"Длина маршрута превышает %dist",
	L"Через %dist съезд с парома %then",
	L"там промежуточный пункт.",
	L"Через %dist промежуточный пункт %waypointname",
	L"Через %dist промежуточный пункт %waypointname %then",
	L"Вы прибыли в промежуточный пункт %waypointname %then",
	L"там пункт назначения.",
	L"Через %dist пункт назначения %waypointname",
	L"Через %dist пункт назначения %waypointname",
	L"Вы прибыли в пункт назначения %waypointname",
	L"там промежуточный пункт %3.",
	L"Через %dist промежуточный пункт %waypointname %1.",
	L"Через %dist промежуточный пункт %waypointname %1 %then",
	L"Вы прибыли в промежуточный пункт %waypointname %3 %then",
	L"там пункт назначения %3.",
	L"Через %dist пункт назначения %waypointname %1.",
	L"Через %dist пункт назначения %waypointname %1.",
	L"Вы прибыли в пункт назначения %waypointname %3.",
	L"затем на перекрёстке поверните %3.",
	L"Через %dist поверните %3 %destname %then",
	L"Через %dist поверните %2 %then",
	L"Через %dist на перекрёстке, поверните %2 %destname  %then",
	L"Через %dist на перекрёстке поверните %3 %then",
	L"На перекрёстке поверните %2 %destname  %then",
	L"Поверните %3 %then, в конце дороги ",
	L"Поверните %3 %then",
	L"затем выполните %exit съезд %destname",
	L"затем выполните %exit съезд.",
	L"затем на кольцо %destname",
	L"затем %poi прямо.",
	L"затем на втором светофоре прямо.",
	L"затем на светофоре прямо.",
	L"%poi прямо %destname %then4",
	L"%poi прямо %then4",
	L"На втором светофоре прямо %then5",
	L"На светофоре прямо %then5",
	L"затем %poi %1 %destname",
	L"затем %poi %1.",
	L"затем на втором светофоре %1.",
	L"затем на светофоре %1.",
	L"затем %3.",
	L"Через %dist %3.",
	L"Через %dist %poi %1 %destname %then4",
	L"%poi %1 %destname %then4",
	L"%poi %1 %then4",
	L"На втором светофоре %1 %then5",
	L"На светофоре %1 %then5",
	L"Через %dist %2 %destname %then1",
	L"Через %dist %2 %then1",
	L"Сейчас %2 %then1",
	L"затем %poi круто %2.",
	L"затем на втором светофоре круто %2.",
	L"затем на светофоре круто %2.",
	L"затем %1 %4.",
	L"Через %dist %poi круто %2 %destname %then4",
	L"%poi круто %2 %destname %then4",
	L"%poi круто %2 %then4",
	L"На втором светофоре круто %2 %then5",
	L"На светофоре круто %2 %then5",
	L"Через %dist %1 %3 %destname %then1",
	L"Через %dist %1 %3 %then1",
	L"Через %dist %1 %4 %then1",
	L"На повороте %1 %3 %then1",
	L"Поверните %1 %3 %then1",
	L"затем %poi плавно %1.",
	L"затем на втором светофоре плавно %1.",
	L"затем на светофоре плавно %1.",
	L"%poi плавно %1 %destname %then4",
	L"%poi плавно %1 %then4",
	L"На втором светофоре плавно %1 %then5",
	L"На светофоре плавно %1 %then5",
	L"Через %dist плавно %2 %then",
	L"Плавно %2 %then",
	L"затем %poi держитесь %1.",
	L"%poi держитесь %1 %destname %then4",
	L"%poi держитесь %1 %then4",
	L"Через %dist держитесь %2 %then",
	L"Держитесь %2 %then",
	L"Разворот %poi %then4",
	L"Разворот на втором светофоре %then5",
	L"затем %1 на кольце",
	L"Через %dist на кольце %1.",
	L"Въедьте на кольцо %then",
	L"Через %dist съезд %1 %then",
	L"Через %dist съезд %then3",
	L"Через %dist держитесь %2.",
	L"Через %dist держитесь %2 %then3",
	L"Держитесь %2 %then3",
	L"затем в конце дороги %3.",
	L"Через %dist %3 %destname %then",
	L"Через %dist %3 %then",
	L"Через %dist %2 %then",
	L"Через %dist в конце дороги %2 %destname %then",
	L"Через %dist в конце дороги %2 %then",
	L"Через %dist в конце дороги %3 %then",
	L"на перекрёстке %2 %destname %then",
	L"на перекрёстке %2 %then",
	L"на перекрёстке %3 %then",
}

local pattern_variations_table = {
	[1] = "\1\129\58",
	[2] = "\2\129\59",
	[3] = "\3\129\60",
	[7] = "\7\129\61\129\62",
	[8] = "\8\129\63",
	[9] = "\9\129\64",
	[10] = "\10\11",
	[13] = "\13\129\65\129\66",
	[14] = "\14\129\67",
	[15] = "\15\129\68",
	[16] = "\16\129\69",
	[20] = "\20\129\70",
	[21] = "\21\129\71\129\72\129\73",
	[22] = "\22\129\74",
	[23] = "\23\129\75",
	[24] = "\24\129\76\129\77",
	[25] = "\25\26",
	[28] = "\28\129\78",
	[32] = "\32\129\79",
	[33] = "\33\129\80",
	[34] = "\34\129\81",
	[35] = "\35\129\82",
	[40] = "\40\129\83\129\84\129\85",
	[41] = "\41\129\86",
	[42] = "\42\129\87",
	[43] = "\43\129\88\129\89",
	[44] = "\44\129\90",
	[47] = "\47\129\91",
	[49] = "\49\129\92",
	[51] = "\51\129\93",
	[52] = "\52\129\94",
	[53] = "\53\129\95",
	[56] = "\56\129\96\129\97",
	[57] = "\57\129\98",
	[58] = "\58\129\99",
	[59] = "\59\129\100",
	[61] = "\61\129\101",
	[63] = "\63\129\102",
	[66] = "\66\129\103\129\104",
	[67] = "\67\129\105",
	[69] = "\69\129\106",
	[78] = "\78\68",
	[88] = "\88\129\107",
	[89] = "\89\129\108",
	[95] = "\95\96\99",
	[96] = "\96\99",
	[97] = "\97\98",
	[101] = "\101\129\109",
	[102] = "\102\129\110",
	[103] = "\103\104\107",
	[104] = "\104\107",
	[105] = "\105\106\108",
	[106] = "\106\108",
	[111] = "\111\112\115\116",
	[112] = "\112\115\116",
	[113] = "\113\114\116",
	[114] = "\114\116",
	[115] = "\115\116",
	[119] = "\119\120\124",
	[120] = "\120\124",
	[121] = "\121\122\124",
	[122] = "\122\124",
	[125] = "\125\126",
	[127] = "\127\129\111",
	[130] = "\129\2\129\112",
	[142] = "\129\14\129\113",
	[146] = "\129\18\129\113",
	[148] = "\129\20\129\114",
	[149] = "\129\21\129\115",
	[151] = "\129\23\129\116",
	[175] = "\129\47\129\117",
	[176] = "\129\48\129\118\129\119",
	[177] = "\129\49\129\120",
	[178] = "\129\50\129\121\129\122",
	[179] = "\129\51\129\123",
	[180] = "\129\52\129\124\129\125",
	[181] = "\129\53\129\126",
	[183] = "\129\55\129\56",
	[185] = "\129\57\93",
}
function set_pattern_variations()
	pattern_variations = sentence_variations and pattern_variations_table or {}
end

poi = {
	{cat="Petrol_Station\1Bp",after=L"после заправки би пи",before=L"перед заправкой би пи",by=L"около заправки би пи",},
	{cat="Petrol_Station\1Gazprom",after=L"после заправки газ пром",before=L"перед заправкой газ пром",by=L"около заправки газ пром",},
	{cat="Petrol_Station\1Gazpromneft'",after=L"после заправки газ пром нефть'",before=L"перед заправкой газ пром нефть'",by=L"около заправки газ пром нефть'",},
	{cat="Petrol_Station\1Mtk",after=L"после заправки эм тэ ка",before=L"перед заправкой эм тэ ка",by=L"около заправки эм тэ ка",},
	{cat="Petrol_Station\1Rosneft'",after=L"после заправки рос нефть'",before=L"перед заправки рос нефть'",by=L"около заправки рос нефть'",},
	{cat="Petrol_Station\1Rostneft'",after=L"после заправки рост нефть'",before=L"перед заправкой рост нефть'",by=L"около заправки рост нефть'",},
	{cat="Petrol_Station\1Lukoil'",after=L"после заправки лукойл'",before=L"перед заправкой лукойл'",by=L"около заправки лукойл'",},
	{cat="Petrol_Station\1Tnk",after=L"после заправки тэ эн ка",before=L"перед заправкой тэ эн ка",by=L"около заправки тэ эн ка",},
	{cat="Shopping\1Shop\1Food_and_Drink\1Auchan",after=L"после магазина ашан",before=L"перед магазином ашан",by=L"около магазина ашан",},
	{cat="Shopping\1Shop\1Food_and_Drink\1Diksi",after=L"после магазина дикси",before=L"перед магазином дикси",by=L"около магазина дикси",},
	{cat="Shopping\1Shop\1Food_and_Drink\1Metro",after=L"после магазина метро",before=L"перед магазином метро",by=L"около магазина метро",},
	{cat="Shopping\1Shop\1Food_and_Drink\1Perekryostok",after=L"после магазина перекрёсток",before=L"перед магазином перекрёсток",by=L"около магазина перекрёсток",},
	{cat="Shopping\1Shop\1Food_and_Drink\1Pyatyorochka",after=L"после магазина пятёрочка",before=L"перед магазином пятёрочка",by=L"около магазина пятёрочка",},
     	{cat="Shopping\1Shop\1Food_and_Drink\1Maxima",after=L"после магазина максима",before=L"перед магазином максима",by=L"около магазина максима",},
     	{cat="Leisure\1Entertainment\1Cinema",after=L"после кинотеатра",before=L"перед кинотеатром",by=L"около кинотеатра",},
	{cat="Avtomoiki\1Avtomoiki",after=L"после автомойки",before=L"перед автомойкой",by=L"около автомойки",},
	{cat="Avtomoiki\1Avtomoiki,",after=L"после автомойки,",before=L"перед автомойкой,",by=L"около автомойки,",},
	{cat="Belain\1Belain",after=L"после офиса би лайна",before=L"перед офисом би лайна",by=L"около офиса би лайна",},
	{cat="Belain\1Belain\1Belain",after=L"после офиса би лайна",before=L"перед офисом би лайна",by=L"около офиса би лайна",},
	{cat="Dangerous Places\1Opasnyj perekrjostok",after=L"после опасного перекрёстка",before=L"перед опасным перекрёстком",by=L"на опасном перекрёстке",},
	{cat="Dangerous Places\1Znak STOP",after=L"после знака стоп",before=L"перед знаком стоп",by=L"около знака стоп",},
	{cat="GAZ (KML)\1azs",after=L"после газовой заправки",before=L"перед газовой заправкой",by=L"около газовой заправки",},
	{cat="MegaFon\1MegaFon",after=L"после офиса мегафона",before=L"перед офисом мегафона",by=L"около офиса мегафона",},
	{cat="MegaFon\1MegaFon\1MegaFon",after=L"после офиса мегафона",before=L"перед офисом мегафона",by=L"около офиса мегафона",},
	{cat="mts\1mts",after=L"после офиса эм тэ эс",before=L"перед офисом эм тэ эс",by=L"около офиса эм тэ эс",},
	{cat="mts\1mts\1mts",after=L"после офиса эм тэ эс",before=L"перед офисом эм тэ эс",by=L"около офиса эм тэ эс",},
	{cat="mts\1mts\1mts\1mts",after=L"после офиса эм тэ эс",before=L"перед офисом эм тэ эс",by=L"около офиса эм тэ эс",},
	{cat="Police Posts",after=L"после поста полицыи",before=L"перед постом полицыи",by=L"около поста полицыи",},
	{cat="Shinomontaj\1Shinomontaj",after=L"после шиномонтажа",before=L"перед шиномонтажём",by=L"около шиномонтажа",},
	{cat="Automotive\1Car_Service",after=L"после автосервиса",before=L"перед автосервисом",by=L"около автосервиса",},
	{cat="Automotive\1Dealer",after=L"после автомагазина",before=L"перед автомагазином",by=L"около автомагазина",},
	{cat="Airport\1Airport_Ground",after=L"после аэропорта",before=L"перед аэропортом",by=L"около аэропорта",},
	{cat="Business\1Exhibition_and_Convention_Center",after=L"после выставочного центра",before=L"перед выставочным центром",by=L"около выставочного центра",},
	{cat="Business\1Business_Facility",after=L"после здания офиса",before=L"перед зданием офиса",by=L"около здания офиса",},
	{cat="Business\1Company",after=L"после здания офиса компании",before=L"перед зданием офиса компании",by=L"около здания офиса компании",},
	{cat="Cafe_or_Bar",after=L"после кофээ",before=L"перед кофээ",by=L"около кофээ",},
	{cat="Medical\1Pharmacy",after=L"после аптеки",before=L"перед аптекой",by=L"около аптеки",},
	{cat="Medical\1Hospital_or_Polyclinic",after=L"после больницы",before=L"перед больницей",by=L"около больницы",},
	{cat="Restaurant\1Fast_Food\1McDonald's",after=L"после макдональдса",before=L"перед макдональдсом",by=L"около макдональдса",},
	{cat="Restaurant\1Fast_Food\1Subway",after=L"после кофээ саб вэй",before=L"перед кофээ саб вэй",by=L"около кофээ саб вэй",},
	{cat="Community\1Education\1College_University",after=L"после учебного заведения",before=L"перед учебным заведением",by=L"около учебного заведения",},
	{cat="Community\1Education\1School",after=L"после школы",before=L"перед школой",by=L"около школы",},
	{cat="Community\1Public_Services\1Cemetery",after=L"после кладбища",before=L"перед кладбищем",by=L"около кладбища",},
	{cat="Community\1Public_Services\1Crematorium",after=L"после крематория",before=L"перед крематорием",by=L"около крематория",},
	{cat="Community\1Public_Services\1Police_Station",after=L"после здания полицейского участка",before=L"перед зданием полицейского участка",by=L"около здания полицейского участка",},
	{cat="Community\1Public_Services\1Post_Office",after=L"после почты",before=L"перед почтой",by=L"около почты",},
	{cat="Community\1Government\1City_Hall",after=L"после муниципалитета",before=L"перед муниципалитетом",by=L"около муниципалитета",},
	{cat="Community\1Government\1Embassies_and_Consulates",after=L"после посольства",before=L"перед посольством",by=L"около посольства",},
	{cat="Community\1Government\1Government_Office",after=L"после здания администрацыи",before=L"перед зданием администрацыи",by=L"около здания администрацыи",},
	{cat="Community\1Government\1Courthouse",after=L"после здания суда",before=L"перед зданием суда",by=L"около здания суда",},
	{cat="Community\1Place_of_Worship\1Mosque",after=L"после мечети",before=L"перед мечетью",by=L"около мечети",},
	{cat="Community\1Place_of_Worship\1Synagogue",after=L"после синагоги",before=L"перед синагогой",by=L"около синагоги",},
	{cat="Community\1Place_of_Worship\1Church",after=L"после храма",before=L"перед храмом",by=L"около храма",},
	{cat="Sports\1Swimming_Pool",after=L"после бассейна",before=L"перед бассейном",by=L"около бассейна",},
	{cat="Sports\1Stadium",after=L"после стадиона",before=L"перед стадионом",by=L"около стадиона",},
	{cat="Parking\1Rest_Area",after=L"после зоны отдыха",before=L"перед зоной отдыха",by=L"около зоны отдыха",},
	{cat="Parking\1Parking_Garage",after=L"после крытой стоянки",before=L"перед крытой стоянкой",by=L"около крытой стоянки",},
	{cat="Parking\1Open_Parking_Area",after=L"после стоянки",before=L"перед стоянкой",by=L"около стоянки",},
	{cat="Parking\1Park_and_Ride",after=L"после перехватывающей парковки",before=L"перед перехватывающей парковкой",by=L"около перехватывающей парковкой",},
	{cat="Transport\1Public_Transport\1Bus_Stop",after=L"после автобусной остановки",before=L"перед автобусной остановкой",by=L"около автобусной остановки",},
	{cat="Transport\1Ground_Transport\1Bus_Terminal",after=L"после автовокзала",before=L"перед автовокзалом",by=L"около автовокзала",},
	{cat="Accommodation\1Hotel_or_Motel",after=L"после отеля",before=L"перед отелем",by=L"около отеля",},
	{cat="Shopping\1Shop\1Drug_store",after=L"после аптеки",before=L"перед аптекой",by=L"около аптеки",},
	{cat="Shopping\1Shop\1Convenience_Store",after=L"после круглосуточного магазина",before=L"перед круглосуточным магазином",by=L"около круглосуточного магазина",},
	{cat="Shopping\1Super_Market_and_Hypermarket",after=L"после супермаркета",before=L"перед супермаркетом",by=L"около супермаркета",},
	{cat="Shopping\1Shopping_Center",after=L"после торгового центра",before=L"перед торговым центром",by=L"около торгового центра",},
	{cat="Finance\1Bank",after=L"после здания банка",before=L"перед зданием банком",by=L"около здания банка",},
	{cat="Leisure\1Culture\1Library",after=L"после здания библиотекии",before=L"перед зданием библиотекой",by=L"около здания библиотеки",},
	{cat="Leisure\1Culture\1Museum",after=L"после зданиия музея",before=L"перед зданием музея",by=L"около здания музея",},
	{cat="Leisure\1Culture\1Theater",after=L"после здания театра",before=L"перед зданием театром",by=L"около здания театра",},
	{cat="Leisure\1Entertainment\1Zoo",after=L"после зоопарка",before=L"перед зоопарком",by=L"около зоопарка",},
	{cat="Leisure\1Park_and_Recreation_Area",after=L"после парка или зоны отдыха",before=L"перед парком или зоной отдыха",by=L"около парка или зоны отдыха",},
	{cat="Shopping\1Shop\1Electrical_Office_and_IT",after=L"после магазина электро техники",before=L"перед магазином электро техники",by=L"около магазина электро техники",},
	{cat="Shopping\1Shop\1Gifts_Cards_Novelties_and_Souvenirs",after=L"после магазина подарки",before=L"перед магазином подарки",by=L"около магазина подарки",},
	{cat="Shopping\1Warehouse",after=L"после здания склада",before=L"перед зданием склада",by=L"около здания склада",},
	{cat="Petrol_Station",after=L"после заправки",before=L"перед заправкой",by=L"около заправки",fromContent=1,},
	{cat="Shopping\1Shop",after=L"после магазина",before=L"перед магазином",by=L"около магазина",},
	{cat="Svetofor\1Moscow",after=L"после светофора",before=L"перед светофором",by=L"на светофоре",},
	{cat="Svetofor\1Russia",after=L"после светофора",before=L"перед светофором",by=L"на светофоре",},
	{cat="ribakam (kml)\1river",after=L"после водохранилища",before=L"перед с водохранилищем",by=L"около водохранилища",},
	{cat="ribakam (kml)\1fishing",after=L"после места рыбалки",before=L"перед местом рыбалки",by=L"около места рыбалки",},
	{cat="ribakam (kml)\1boat",after=L"после рыболовной базы",before=L"перед рыболовной базой",by=L"около рыболовной базы",},
	{cat="ribakam (kml)\1fising shop",after=L"после рыболовного магазина",before=L"перед рыболовным магазином",by=L"около рыболовного магазина",},
	{cat="ribakam (kml)\1fisherman",after=L"после платного пруда",before=L"перед платным прудом",by=L"около платного пруда",},
	{cat="ribakam (kml)\1paid",after=L"после пункта продажи путёвок",before=L"перед пунктом продажи путёвок",by=L"около пункта продажи путёвок",},
     	{cat="Metro Moscow",after=L"после станциыи метро",before=L"перед станцыей метро",by=L"около станцыи метро",fromContent=1,},
	{cat="BigJunction",after=L"после большого перекрёстка",before=L"перед большим перекрёстком",by=L"на большом перекрёстке",fromContent=0,},
	{cat="Bridge",after=L"после моста",before=L"перед мостом",by=L"на мосту",fromContent=0,},
	{cat="Tunnel",after=L"после тоннеля",before=L"перед тоннелем",by=L"в тоннеле",fromContent=0,},
}

sentence_types = {
	app = 64,
	app1 = 32,
	app2 = 16,
	drive = 1,
	more = 16777216,
	now = 128,
	pre = 8,
	pre1 = 4,
	pre2 = 2,
	stop = 8388608,
}

then_types = {
	["then"] = 1,
	["then1"] = 3,
	["then2"] = 5,
	["then3"] = 9,
	["then4"] = 17,
	["then5"] = 33,
}

